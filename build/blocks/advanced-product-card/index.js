(()=>{"use strict";var e,o={94:(e,o,a)=>{const n=window.wp.blocks,r=JSON.parse('{"UU":"wcba/advanced-product-card"}'),l=window.wp.i18n,t=window.wp.blockEditor,s=window.wp.components,c=window.wp.data,d=window.wp.serverSideRender;var i=a.n(d);const w=window.ReactJSXRuntime;(0,n.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:o}){const{overlayEnabled:a,overlayStyle:n,imageSwapEnabled:r,showPrice:d,showSaleBadge:u,showDiscountPercent:g,showCustomBadge:h,customBadgeText:b,showAddToCart:p,showQuickView:_,productId:v,useAjaxCart:C}=e,[x,j]=wp.element.useState(""),{items:S,isLoading:m}=(0,c.useSelect)(e=>{const{getEntityRecords:o,isResolving:a}=e("core"),n=x&&x.length>1?{search:x,per_page:20,status:"publish"}:{per_page:10,status:"publish"};return{items:o("postType","product",n)||[],isLoading:a("getEntityRecords",["postType","product",n])}},[x]),k=(0,t.useBlockProps)({className:"wcba-product-card"});return wp.element.useEffect(()=>{console.log("[WCBA] attributes",e),console.log("[WCBA] search",x,"isLoading",m,"products(ids)",(S||[]).map(e=>e?.id))},[e,S,m,x]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(t.InspectorControls,{children:[(0,w.jsxs)(s.PanelBody,{title:(0,l.__)("Advanced Product Card","wcba"),initialOpen:!0,children:[(0,w.jsx)(s.TextControl,{label:(0,l.__)("Search Product","wcba"),value:x,onChange:j}),m?(0,w.jsx)(s.Spinner,{}):(0,w.jsx)(s.SelectControl,{label:(0,l.__)("Select Product","wcba"),value:v||"",options:[{label:(0,l.__)("— Select —","wcba"),value:""},...S.map(e=>({label:e.title?.rendered||`#${e.id}`,value:e.id}))],onChange:e=>{console.log("[WCBA] onSelect product",e,"parsed",e?parseInt(e,10):void 0),o({productId:e?parseInt(e,10):void 0})}}),(0,w.jsx)(s.ToggleControl,{label:(0,l.__)("AJAX Add to Cart","wcba"),checked:!!C,onChange:e=>o({useAjaxCart:!!e})}),(0,w.jsx)(s.PanelRow,{children:(0,w.jsx)(s.ToggleControl,{label:(0,l.__)("Enable Overlay","wcba"),checked:!!a,onChange:e=>o({overlayEnabled:!!e})})}),a&&(0,w.jsx)(s.SelectControl,{label:(0,l.__)("Overlay Style","wcba"),value:n,options:[{label:(0,l.__)("None","wcba"),value:"none"},{label:(0,l.__)("Gradient","wcba"),value:"gradient"},{label:(0,l.__)("Solid","wcba"),value:"solid"}],onChange:e=>o({overlayStyle:e})}),(0,w.jsx)(s.ToggleControl,{label:(0,l.__)("Image Swap on Hover","wcba"),checked:!!r,onChange:e=>o({imageSwapEnabled:!!e})}),(0,w.jsx)(s.ToggleControl,{label:(0,l.__)("Show Price","wcba"),checked:!!d,onChange:e=>o({showPrice:!!e})}),(0,w.jsx)(s.ToggleControl,{label:(0,l.__)("Show Sale Badge","wcba"),checked:!!u,onChange:e=>o({showSaleBadge:!!e})}),(0,w.jsx)(s.ToggleControl,{label:(0,l.__)("Show Discount Percent","wcba"),checked:!!g,onChange:e=>o({showDiscountPercent:!!e})}),(0,w.jsx)(s.ToggleControl,{label:(0,l.__)("Custom Badge","wcba"),checked:!!h,onChange:e=>o({showCustomBadge:!!e})}),h&&(0,w.jsx)(s.TextControl,{label:(0,l.__)("Custom Badge Text","wcba"),value:b||"",onChange:e=>o({customBadgeText:e})}),(0,w.jsx)(s.ToggleControl,{label:(0,l.__)("Show Add to Cart","wcba"),checked:!!p,onChange:e=>o({showAddToCart:!!e})}),(0,w.jsx)(s.ToggleControl,{label:(0,l.__)("Show Quick View","wcba"),checked:!!_,onChange:e=>o({showQuickView:!!e})})]}),(0,w.jsxs)(s.PanelBody,{title:(0,l.__)("Debug","wcba"),initialOpen:!1,children:[(0,w.jsxs)("p",{children:[(0,w.jsxs)("strong",{children:[(0,l.__)("Product ID","wcba"),":"]})," ",String(null!=v?v:"")]}),(0,w.jsxs)("p",{children:[(0,w.jsxs)("strong",{children:[(0,l.__)("Search","wcba"),":"]})," ",x]}),(0,w.jsxs)("p",{children:[(0,w.jsxs)("strong",{children:[(0,l.__)("Loading","wcba"),":"]})," ",String(!!m)]}),(0,w.jsxs)("p",{children:[(0,w.jsxs)("strong",{children:[(0,l.__)("Product IDs","wcba"),":"]})," ",(S||[]).map(e=>e?.id).join(", ")]}),(0,w.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:JSON.stringify(e,null,2)})]})]}),(0,w.jsx)("div",{...k,children:(0,w.jsx)(i(),{block:"wcba/advanced-product-card",attributes:e})})]})},save:function(){return null}})}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var l=a[e]={exports:{}};return o[e](l,l.exports,n),l.exports}n.m=o,e=[],n.O=(o,a,r,l)=>{if(!a){var t=1/0;for(i=0;i<e.length;i++){for(var[a,r,l]=e[i],s=!0,c=0;c<a.length;c++)(!1&l||t>=l)&&Object.keys(n.O).every(e=>n.O[e](a[c]))?a.splice(c--,1):(s=!1,l<t&&(t=l));if(s){e.splice(i--,1);var d=r();void 0!==d&&(o=d)}}return o}l=l||0;for(var i=e.length;i>0&&e[i-1][2]>l;i--)e[i]=e[i-1];e[i]=[a,r,l]},n.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return n.d(o,{a:o}),o},n.d=(e,o)=>{for(var a in o)n.o(o,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:o[a]})},n.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={498:0,782:0};n.O.j=o=>0===e[o];var o=(o,a)=>{var r,l,[t,s,c]=a,d=0;if(t.some(o=>0!==e[o])){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(c)var i=c(n)}for(o&&o(a);d<t.length;d++)l=t[d],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(i)},a=globalThis.webpackChunkwoocommerce_blocks_addon=globalThis.webpackChunkwoocommerce_blocks_addon||[];a.forEach(o.bind(null,0)),a.push=o.bind(null,a.push.bind(a))})();var r=n.O(void 0,[782],()=>n(94));r=n.O(r)})();